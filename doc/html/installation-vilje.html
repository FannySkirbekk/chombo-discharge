<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PlasmaC: Compilation on vilje.hpc.ntnu.no</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="html_extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PlasmaC
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="doxy-contents.html"><span>Contents</span></a></li>
      <li><a href="gallery.html"><span>Gallery</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Compilation on vilje.hpc.ntnu.no </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>TLDR </h2>
<p>Load modules by </p><pre class="fragment">module load intelcomp/15.0.1
module load gcc/4.9.1
module load mpt/2.10
</pre><p>The configuration file for vilje is found here. Store it as chombo_root/lib/mk/Make.defs.local</p>
<h2>Loading the modules </h2>
<p>To compile the system on the <em>vilje</em> supercomputer, you need to load compilers and libraries before compiling the code. We recommend that you use intel compilers by loading </p><pre class="fragment">module load intelcomp/15.0.1
</pre><p>which will load Intel compilers for Fortran and C/C++ (version 15.0.1). An updated version of gcc is loaded by </p><pre class="fragment">module load gcc/4.9.1
</pre><p>MPI libraries are loaded by </p><pre class="fragment">module load mpt/2.10
</pre><p>and HDF5 is loaded by </p><pre class="fragment">module load hdf5/1.8.14
</pre><h2>Modifying the configuration file </h2>
<p>It is likely possible to load newer versions of compilers, MPI, and HDF5 (but we haven't tried). Once the libraries are loaded, the code may be compiled as usual. It will be necessary to update CHOMBO_HOME and supply the library path to the Chombo makefiles. CHOMBO_HOME is simply updated to the folder in which Chombo is installed. HDF5 paths are found by typing </p><pre class="fragment">module disp hdf5/1.8.14
</pre><p>which will display the library paths to HDF5. The typical output is </p><pre class="fragment">/sw/sdev/modulefiles/hdf5/1.8.14:

module-whatis    general purpose library and file format for storing scientific data 
prereq   intelcomp/15.0.1 
prereq   mpt/2.10 
prepend-path     PATH /sw/sdev/Modules/hdf5/hdf5-1.8.14/bin 
prepend-path     CPATH /sw/sdev/Modules/hdf5/hdf5-1.8.14/include 
prepend-path     FPATH /sw/sdev/Modules/hdf5/hdf5-1.8.14/include 
prepend-path     LIBRARY_PATH /sw/sdev/Modules/hdf5/hdf5-1.8.14/lib 
prepend-path     LD_LIBRARY_PATH /sw/sdev/Modules/hdf5/hdf5-1.8.14/lib 
prepend-path     PYTHONPATH /sw/sdev/Modules/hdf5/hdf5-1.8.14/lib/python2.7/site-packages 
setenv           HDF5_DIR /sw/sdev/Modules/hdf5/hdf5-1.8.14 

Loads HDF5 version 1.8.14
</pre><p>To use Intel's Fortran and C/C++ compilers, please specify </p><pre class="fragment"> FC  = ifort
 CXX = icpc
</pre><p>in Make.defs.local. Likewise, update Make.defs.local so that it finds the HDF5 libraries and include files. For this version of HDF5, they are located in </p><pre class="fragment"> /sw/sdev/Modules/hdf5/hdf5-1.8.14/include 
 /sw/sdev/Modules/hdf5/hdf5-1.8.14/lib 
</pre><p>With these paths, the appropriate flags in Make.defs.local are </p><pre class="fragment">HDFINCFLAGS    = -I/sw/sdev/Modules/hdf5/hdf5-1.8.14/include 
HDFLIBFLAGS    = -L/sw/sdev/Modules/hdf5/hdf5-1.8.14/lib -lhdf5 -lz 

HDFMPIINCFLAGS = -I/sw/sdev/Modules/hdf5/hdf5-1.8.14/include 
HDFMPILIBFLAGS = -L/sw/sdev/Modules/hdf5/hdf5-1.8.14/lib -lhdf5 -lz </pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 26 2018 13:27:07 for PlasmaC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
